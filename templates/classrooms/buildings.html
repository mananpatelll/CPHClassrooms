{% extends "base.html" %}
{% block title %}Buildings{% endblock %}

{% block head_extra %}
<style>
  .tile { border:1px solid #ddd; border-radius:12px; overflow:hidden; background:#fff;
          box-shadow: 0 1px 2px rgba(0,0,0,.05); transition: transform .08s, box-shadow .08s; }
  .tile:hover { transform: translateY(-2px); box-shadow: 0 4px 16px rgba(0,0,0,.08); }
  .img-cover { width:100%; height:100%; object-fit:cover; }
  .tile-title { font-weight:600; font-size:1rem; text-align:center; margin:.6rem 0 0; }
  .tile-sub { font-size:.8rem; color:#6c757d; text-align:center; margin:0 0 .8rem; }
  .section-title { font-weight:700; text-align:center; font-size:1.5rem; margin:1.5rem 0 .75rem; }
</style>
{% endblock %}

{% block content %}
<div class="container my-4">
  <h1 class="section-title">Browse by Building</h1>
  <div class="row g-3">
    {% for b in buildings %}
      <div class="col-12 col-sm-6 col-md-4 col-lg-3 col-xl-2">
        <a class="text-decoration-none text-reset" href="{% url 'classroom_list_by_building' b.slug %}">
          <div class="tile h-100">
            <div class="ratio ratio-16x9 bg-light">
              {% if b.preview %}
                <img src="{{ b.preview }}" alt="Preview of {{ b.name }}" class="img-cover" loading="lazy" decoding="async">
              {% endif %}
            </div>
            <div class="px-3 pb-2 pt-2">
              <div class="tile-title">{{ b.name }}</div>
              <div class="tile-sub">
                {{ b.classrooms_count }} room{% if b.classrooms_count != 1 %}s{% endif %}
              </div>
            </div>
          </div>
        </a>
      </div>
    {% empty %}
      <p>No buildings found.</p>
    {% endfor %}
  </div>
</div>
{% endblock %}
